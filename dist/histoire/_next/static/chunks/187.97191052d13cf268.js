"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[187],{7187:(e,t,l)=>{l.r(t),l.d(t,{default:()=>h});var n=l(7876),r=l(4232);function a(e){let{open:t,onClose:l,title:a="Preview",url:o}=e,i=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=i.current;e&&(t?e.open||e.showModal():e.open&&e.close())},[t]),(0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&(null==l||l())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[l]),(0,n.jsx)("dialog",{ref:i,className:"modal",onClick:e=>{let t=i.current;if(!t)return;let n=t.getBoundingClientRect();e.clientX>=n.left&&e.clientX<=n.right&&e.clientY>=n.top&&e.clientY<=n.bottom||null==l||l()},"aria-label":a,children:(0,n.jsxs)("div",{className:"modal-card",role:"document",children:[(0,n.jsxs)("div",{className:"modal-header",children:[(0,n.jsx)("h3",{className:"modal-title",children:a}),(0,n.jsx)("button",{className:"modal-close",onClick:l,"aria-label":"Close",children:"✕"})]}),(0,n.jsxs)("div",{className:"modal-body",children:[o?(0,n.jsx)("iframe",{src:o,title:a,loading:"eager",referrerPolicy:"no-referrer",onError:()=>{}}):(0,n.jsx)("p",{style:{margin:0},children:"No URL provided."}),(0,n.jsx)("noscript",{children:(0,n.jsx)("p",{children:"JavaScript is required to view this content."})}),(0,n.jsx)("div",{className:"modal-fallback",children:(0,n.jsx)("a",{href:o||"#",target:"_blank",rel:"noopener noreferrer",children:"Open in new tab"})})]})]})})}function o(){return(0,r.useEffect)(()=>{function e(){let e=document.getElementById("ml-tabs");return!!e&&(!function(e){if(!e||e.dataset.tabsInited)return;let t=Array.from(e.querySelectorAll('[role="tab"]')),l=Array.from(e.querySelectorAll('[role="tabpanel"]'));function n(n){t.forEach(e=>{let t=e===n;e.classList.toggle("is-active",t),e.setAttribute("aria-selected",t?"true":"false"),e.tabIndex=t?0:-1}),l.forEach(e=>{e.hidden=e.id!==n.getAttribute("aria-controls")}),Array.from(e.querySelectorAll("video")).forEach(e=>{try{e.pause()}catch(e){}});let r=e.querySelector("#"+n.getAttribute("aria-controls"));r&&r.focus({preventScroll:!0})}t.length&&l.length&&(e.dataset.tabsInited="1",t.forEach(e=>e.addEventListener("click",()=>n(e))),e.addEventListener("keydown",e=>{let l=document.activeElement;if(!l||"tab"!==l.getAttribute("role"))return;let r=t.indexOf(l);"ArrowRight"===e.key&&(r=(r+1)%t.length,t[r].focus(),e.preventDefault()),"ArrowLeft"===e.key&&(r=(r-1+t.length)%t.length,t[r].focus(),e.preventDefault()),"Home"===e.key&&(t[0].focus(),e.preventDefault()),"End"===e.key&&(t[t.length-1].focus(),e.preventDefault()),("Enter"===e.key||" "===e.key)&&(n(l),e.preventDefault())}),n(t[0]))}(e),!0)}let t=()=>e();if(window.addEventListener("load",t),!e()){let t=new MutationObserver(()=>{e()&&t.disconnect()});return t.observe(document.body,{childList:!0,subtree:!0}),()=>t.disconnect()}return()=>window.removeEventListener("load",t)},[]),null}let i="/histoire".replace(/\/+$/,""),s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/^https?:\/\//i.test(e)},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.startsWith("/")?e:"/".concat(e)},d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/^https?:\/\//i.test(e)},u=e=>{let t=(e=>{let t=document.querySelector(e);return t?t.getAttribute("href")||t.href:null})(e);t&&(location.href=t)};function h(e){let{children:t,colors:l,links:h,logo:v,prevHref:f,nextHref:m,authorInitials:p,position:b,langOptions:g=[],currentLang:y}=e,[x,j]=(0,r.useState)({open:!1,url:"",title:""}),k=(0,r.useCallback)((e,t)=>{e&&j({open:!0,url:e,title:t||"Preview"})},[]),E=(0,r.useCallback)(()=>j(e=>({...e,open:!1})),[]),N=e=>e?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e||d(e))return e;if(!i)return e.startsWith("/")?e:"/".concat(e);if(e===i||e.startsWith("".concat(i,"/")))return e;let t=e.startsWith("/")?e:"/".concat(e);return"".concat(i).concat(t).replace(/\/{2,}/g,"/")}(e):e;return(0,r.useEffect)(()=>{let e=document.documentElement;(null==l?void 0:l.header)&&e.style.setProperty("--color-header",l.header),(null==l?void 0:l.main)&&e.style.setProperty("--color-main",l.main),(null==l?void 0:l.footer)&&e.style.setProperty("--color-footer",l.footer),(null==l?void 0:l.headerFont)&&e.style.setProperty("--text-header",l.headerFont),(null==l?void 0:l.mainFont)&&e.style.setProperty("--text-main",l.mainFont),(null==l?void 0:l.footerFont)&&e.style.setProperty("--text-footer",l.footerFont);let t=document.getElementById("content"),n=document.querySelector(".nav.prev"),r=document.querySelector(".nav.next"),a=n&&"hidden"!==getComputedStyle(n).visibility,o=r&&"hidden"!==getComputedStyle(r).visibility;if(!t||!a&&!o)return;let i=0,s=0,c=!1,d=e=>{let t=e.changedTouches[0];i=t.clientX,s=t.clientY,c=!0},h=e=>{if(!c)return;let t=e.changedTouches[0],l=t.clientX-i,n=t.clientY-s;Math.abs(l)>60&&40>Math.abs(n)&&(l<0&&o&&u(".nav.next"),l>0&&a&&u(".nav.prev")),c=!1},v=e=>{"ArrowLeft"===e.key&&a&&u(".nav.prev"),"ArrowRight"===e.key&&o&&u(".nav.next")};return t.classList.add("swipeable"),t.addEventListener("touchstart",d,{passive:!0}),t.addEventListener("touchend",h,{passive:!0}),document.addEventListener("keydown",v),()=>{t.classList.remove("swipeable"),t.removeEventListener("touchstart",d),t.removeEventListener("touchend",h),document.removeEventListener("keydown",v)}},[l,f,m]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("header",{className:"site-header",children:[(0,n.jsx)("div",{className:"left",children:(0,n.jsx)("a",{href:(null==h?void 0:h.about)||"#",onClick:e=>{(null==h?void 0:h.about)&&(e.preventDefault(),k(h.about,"About"))},"aria-label":"About",children:(0,n.jsx)("img",{src:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e)return i||"";if(s(e)||e.startsWith("#")||e.startsWith("?"))return e;let t=c(e);return!i||t===i||t.startsWith("".concat(i,"/"))?t:"".concat(i).concat(t).replace(/\/{2,}/g,"/")}("/assets/logo.svg"),alt:"KI-L\xe9ierbud",className:"logo"})})}),(0,n.jsxs)("div",{className:"right",children:[(0,n.jsx)("a",{className:"btn",href:(null==h?void 0:h.search)||"#",onClick:e=>{(null==h?void 0:h.search)&&(e.preventDefault(),k(h.search,"Search"))},children:"Search"}),(0,n.jsx)("select",{id:"lang-select",className:"lang",value:(y||"").toLowerCase(),onChange:e=>{let t=(e.target.value||"").toLowerCase(),l=new Map((g||[]).map(e=>[e.lc,e.id])).get(t);l&&(location.href=N("/".concat(t,"/").concat(l,"/")))},"aria-label":"Change language",children:(null!=g?g:[]).map(e=>(0,n.jsx)("option",{value:e.lc,children:e.lc.toUpperCase()},e.lc))}),(0,n.jsx)("a",{className:"btn",href:(null==h?void 0:h.login)||"#",onClick:e=>{(null==h?void 0:h.login)&&(e.preventDefault(),k(h.login,"Login"))},children:"Login"})]})]}),(0,n.jsx)("main",{id:"content",className:"site-main",children:t}),(0,n.jsxs)("footer",{className:"site-footer",children:[(0,n.jsxs)("div",{className:"side",children:[(0,n.jsx)("a",{className:"author",href:(null==h?void 0:h.author)||"#",onClick:e=>{(null==h?void 0:h.author)&&(e.preventDefault(),k(h.author,"Authors"))},title:"Authors",children:p}),(0,n.jsx)("a",{className:"nav prev",style:{visibility:f?"visible":"hidden"},href:N(f)||"#","aria-label":"Previous",children:"⟵"})]}),(0,n.jsxs)("div",{className:"center",children:[(0,n.jsx)("a",{className:"btn",href:(null==h?void 0:h.welcome)||"#",onClick:e=>{let t=(null==h?void 0:h.welcome)||(null==h?void 0:h.dashboard);t&&(e.preventDefault(),k(t,"Home"))},children:"Home"}),(0,n.jsx)("span",{className:"pos",children:b}),(0,n.jsx)("a",{className:"btn",href:(null==h?void 0:h.dashboard)||"#",onClick:e=>{(null==h?void 0:h.dashboard)&&(e.preventDefault(),k(h.dashboard,"TOC"))},children:"TOC"})]}),(0,n.jsx)("div",{className:"side",children:(0,n.jsx)("a",{className:"nav next",style:{visibility:m?"visible":"hidden"},href:N(m)||"#","aria-label":"Next",children:"⟶"})})]}),(0,n.jsx)(a,{open:x.open,onClose:E,title:x.title,url:x.url}),(0,n.jsx)(o,{})]})}}}]);